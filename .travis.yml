language: go
go:
- 1.13.x
- 1.14.x
- 1.15.x
dist: bionic
services:
- docker
install:
- go get -u golang.org/x/lint/golint
- pip3 install boto3 markdown2
addons:
  apt:
    packages:
    - python3-pip
    - python3-setuptools
    - python3-wheel
script:
- make lint
- make
- make integration
- make test
- ./test/perf.sh "$TEST_CONNECTION_STRING_1" ||  ./test/perf.sh "$TEST_CONNECTION_STRING_2"
- make fakepackage
- docker build -t e2e_tests -f docker/Dockerfile.mule .
- docker run --rm -t e2e_tests mule/e2e.sh
env:
  global:
  - secure: YyBq2lUhaiuP6qdm0XiV6pjBqAG3HsuBlVO1+XxPgavAIkF5ss1rVaasq/N0FKRG3Zb/g8MvjgdhIIm0N2dyx5PkMqQWVH+CCx7grFiN8IDMGzaEFCCaVao6VnoPwoCOVx+igYWKIthVY6xj5qikBU8didrJuUx1abG7DyXD5GTv4m2Pa5badmBX5VgWknXUyY3EqEA+mZrt+uHGrHjUebcKu862IYg3gt2cJwiqq1AajO4nyzptkkHvnZfGWsyNZJjUaY6ukAmjt5QX+HcDWMKgg+CXHbv4F744uxSo0Vnm6OnnFwLSOpVbTLzttQaRoDbey7Q2ND//dmgUt3D/awZ/K0+sahdItKL8DRj8NqN1KgvUSkXXtHdR9OtQLYzdEy9O9xyc+146AnxLWw9+b7/W4n3flkaWKBSg5EjCbFACsUThVOZUjP7o4PKimZKFzyGvaergb9rtRmV2R80QVsJDgyr3iGWUSy/kpMrntH4LG8Oexsxz02g8WGEWszH0Eq5vjeVQQI7ASOaCFuArQHfwgj56eHnMC9mqcdj1xsTTCP+V8zHz0mMkawS8lKyV0MdwVwbCaZ0muy5UiiH9wDXKxQj/wHYcuXdDWrE4O9r+5FmG9FuIQOjTEyz6KcybGqRTpwr7KcnEFbVJYkzzX8p7VA2OS+TQDnD3HDCmaTc=
  - secure: auVBkrWMLvvBIc6261bukTrB7yWIPbc8/LhGzxlpf0TCnJdEVEbkuGIae1z/lN1G67hj+VyJMzOqRZ93pZZWuQ9oe1c05tSOYUdbwiuWCW6f4Ma9ZSzTejbBJL5SYJ2y8PkZFsU+ksGJNtg5qJZ6+rmIEX1KjhoX5ZLJ2N37eK+i1LtbKdJNV/ZnTMkPnzF4VE5JX0hLkTBKwgwpDhyW6RlqoLBioUsYvNUFLmea/5srVnmI5CiW9wj7KHC62qT4/k3+LPvDbGhvUk/MFKiUJ4FIVYkqdLihvfwmTeiGQZO8pTbEVNgnILpaZ8XFfx7WmaMQEKHebrD1dpBC2SEMehMtjznGinSfSSmoJwYUH44mra6wiy+LS5O/RssE3uNg8WfOjIaWdrUSVkHOTe73Slj4y/60EUFGroWIi+Gp3y7hAUgEkVYl8nkYU/gU1WkuD8PKTEMnlN7Mk4U1+4RRoEDMNy1wrtCS+2/skGvm5iw9pF/qNxVxC5XBSLH42rJLLuyjG+yscUeAGIZMwBPfQ/RFWv10JxzUzc9jzzVx89JdZmlUb2kJo1yuWKvxpz1oahhvSZbx0bMQXQkZiwPTCev34KSibGPwmnT4ADXtTSbIFkUrxb8VPJkXc9PxKBfKdIbdKDLMY13MqDzc/DeBV3gaTHcIyGl2T1KCIe838Pk=
